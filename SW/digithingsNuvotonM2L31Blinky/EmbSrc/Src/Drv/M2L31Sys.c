#include "../Target/Target.h"
#include "../M2L31_Gen/M2L31_Sys_Def.h"

void M2L31SysInit(void) {

	volatile sM2L31_SYS* pM2L31_SYS = (sM2L31_SYS*)SYS_BA_ADR;
	uM2L31_SYS_SYS_GPC_MFP3 M2L31_SYS_SYS_GPC_MFP3;
	uM2L31_SYS_SYS_GPB_MFP0 M2L31_SYS_SYS_GPB_MFP0;
	uM2L31_SYS_SYS_GPD_MFP3 M2L31_SYS_SYS_GPD_MFP3;
	uM2L31_SYS_SYS_IVSCTL M2L31_SYS_SYS_IVSCTL;
	uM2L31_SYS_SYS_IPRST1 M2L31_SYS_SYS_IPRST1;



	M2L31_SYS_SYS_GPC_MFP3.All = 0;
	M2L31_SYS_SYS_GPC_MFP3.Bit.PC13MFP = 13; /* CLKO */
	pM2L31_SYS->M2L31_SYS_SYS_GPC_MFP3.All = M2L31_SYS_SYS_GPC_MFP3.All;

	M2L31_SYS_SYS_GPB_MFP0.All = 0;
	M2L31_SYS_SYS_GPB_MFP0.Bit.PB0MFP = 01; // EADC0_CH0
	M2L31_SYS_SYS_GPB_MFP0.Bit.PB2MFP = 01; // EADC0_CH2
	pM2L31_SYS->M2L31_SYS_SYS_GPB_MFP0.All = M2L31_SYS_SYS_GPB_MFP0.All;

	M2L31_SYS_SYS_GPD_MFP3.All = 0;
	M2L31_SYS_SYS_GPD_MFP3.Bit.PD12MFP = 01; // EADC0_CH18
	pM2L31_SYS->M2L31_SYS_SYS_GPD_MFP3.All = M2L31_SYS_SYS_GPD_MFP3.All;


	M2L31_SYS_SYS_IVSCTL.All = 0;
	M2L31_SYS_SYS_IVSCTL.Bit.ADCCSEL = 0; // EADC0 controlled is active
	pM2L31_SYS->M2L31_SYS_SYS_IVSCTL.All = M2L31_SYS_SYS_IVSCTL.All;

	M2L31_SYS_SYS_IPRST1.All = 0;
	M2L31_SYS_SYS_IPRST1.Bit.EADC0RST = 1; // EADC0 controller reset
	pM2L31_SYS->M2L31_SYS_SYS_IPRST1.All = M2L31_SYS_SYS_IPRST1.All;


}
